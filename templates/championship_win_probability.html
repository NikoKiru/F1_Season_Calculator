{% extends "base.html" %}

{% block title %}Championship Win Probability{% endblock %}

{% block page_title %}Championship Win Probability by Season Length{% endblock %}

{% block content %}
<div style="overflow-x:auto;">
    <table class="standings-table">
        <thead>
            <tr>
                <th></th>
                {% for length in data.season_lengths %}
                    <th>{{ length }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>Possible Seasons</th>
                {% for seasons in data.possible_seasons %}
                    <td>{{ seasons }}</td>
                {% endfor %}
            </tr>
            <tr>
                <th>Total Titles</th>
                {% for length in data.season_lengths %}
                    {% if length == 1 %}
                        <td>No.</td>
                    {% else %}
                        <td>%</td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% for driver in data.drivers_data %}
            <tr>
                <th>{{ data.driver_names[driver.driver] }}</th>
                {% for i in range(data.season_lengths|length) %}
                    {% if data.season_lengths[i] == 1 %}
                        <td>{{ driver.wins_per_length[i] }}</td>
                    {% else %}
                        <td>{{ "%.2f"|format(driver.percentages[i]) }}</td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<a href="{{ url_for('views.index') }}" class="back-link">Back to Home</a>
{% endblock %}
