{% extends "base.html" %}

{% block title %}Championship {{ data.championship_id }}{% endblock %}

{% block page_title %}Championship #{{ data.championship_id }}{% endblock %}

{% block content %}
<div class="data-container">
    {% if data %}
        <p><strong>Winner:</strong> {{ data.winner }}</p>
        <p><strong>Number of Races:</strong> {{ data.num_races }}</p>
        <p><strong>Rounds Included:</strong> {{ data.round_names|join(', ') }}</p>
        {% if data.round_points_data %}
        <h3 style="margin-top: 20px;">Championship Points Table:</h3>
        <div class="table-wrapper">
            <table class="standings-table">
                <thead>
                    <tr>
                        <th>Driver</th>
                        {% for round_name in data.round_names %}
                            <th>{{ round_name }}</th>
                        {% endfor %}
                        <th>Total Points</th>
                    </tr>
                </thead>
                <tbody>
                    {% for driver_code in data.standings.split(',') %}
                        {% if data.round_points_data[driver_code] %}
                            <tr>
                                <td data-label="Driver">{{ data.driver_names[driver_code] }}</td>
                                {% for point in data.round_points_data[driver_code].round_points %}
                                    <td data-label="{{ data.round_names[loop.index0] }}">{{ point }}</td>
                                {% endfor %}
                                <td data-label="Total Points"><strong>{{ data.round_points_data[driver_code].total_points }}</strong></td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    {% else %}
        <p>Championship not found.</p>
    {% endif %}
</div>
<a href="{{ url_for('views.index') }}" class="back-link">Back to Home</a>
{% endblock %}