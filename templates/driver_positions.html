{% extends "base.html" %}

{% block title %}Driver Finishes by Position{% endblock %}

{% block breadcrumbs %}
<nav class="breadcrumbs" aria-label="Breadcrumb">
    <div class="breadcrumbs-container">
        <ol class="breadcrumb-list">
            <li class="breadcrumb-item"><a href="{{ url_for('views.index') }}" class="breadcrumb-link">Home</a></li>
            <li class="breadcrumb-item"><span class="breadcrumb-current">Driver Positions</span></li>
        </ol>
    </div>
</nav>
{% endblock %}

{% block content %}
<h2>Driver Finishes by Position</h2>
<div class="position-selector">
    <div class="podium-container">
        <div class="podium-block podium-2" data-position="2">
            <span class="podium-number">2</span>
            <span class="podium-label">2nd</span>
        </div>
        <div class="podium-block podium-1" data-position="1">
            <span class="podium-number">1</span>
            <span class="podium-label">1st</span>
        </div>
        <div class="podium-block podium-3" data-position="3">
            <span class="podium-number">3</span>
            <span class="podium-label">3rd</span>
        </div>
    </div>
    <div class="position-grid">
        {% for pos in range(4, 21) %}
        <button class="position-btn" data-position="{{ pos }}">{{ pos }}</button>
        {% endfor %}
    </div>
</div>

<div class="data-container">
    <h2 id="position-header">Select a Position</h2>
    <div id="loading-indicator" style="display: none; text-align: center; margin-top: 20px;">
        <div class="spinner"></div>
        <p>Loading data...</p>
    </div>
    <div id="results">
        <p>Click a position above to see driver statistics.</p>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    const DRIVERS = {{ drivers | tojson | safe }};
</script>
<script src="{{ url_for('static', filename='js/driver_positions.js') }}"></script>
{% endblock %}